<nz-layout>

  <nz-sider nzCollapsible nzWidth="200px" nzCollapsible nzBreakpoint="lg" [nzCollapsedWidth]="0">
    <app-global-sidemenu></app-global-sidemenu>
  </nz-sider>


  <nz-layout>
    <nz-header>
      <img src="assets/logoAnkieter.PNG" height="100%" style="margin-left: 1rem;">
      <div style=" width:40vw; margin-left:5vw">

      </div>

    </nz-header>
    <nz-content>
      <nz-breadcrumb>
        <nz-breadcrumb-item><a [routerLink]="'/'">Ekran główny</a> </nz-breadcrumb-item>
        <nz-breadcrumb-item>Edytor raportu</nz-breadcrumb-item>

      </nz-breadcrumb>
      <div class="inner-content">
        <div class="report-element" cdkDropList [cdkDropListData]="this.reportDefinition.elements" (cdkDropListDropped)="drop($event)">
          <div class="custom-placeholder" *cdkDragPlaceholder></div>


          <div *ngFor="let element of reportDefinition.elements" cdkDrag class="element-box">
          <ng-container [ngSwitch]="element.type">
            <div *ngSwitchCase="'text'" [innerHTML]="element.content.text"></div>
            <div *ngSwitchCase="'chart'"> {{generateChart(queryData(element.content.dataQuery), element.content.config)}}</div>
          </ng-container>
          </div>
        </div>
        <section class="add-more" (mouseover)="mouseHoveringAddMorePanel=true" (mouseleave)="mouseHoveringAddMorePanel=false">
          <div class="add-more-content add-new"> Dodaj nowy <i nz-icon nzType="plus"></i></div>
          <div class="add-more-content">
            <span [class.shake]="mouseHoveringAddMorePanel"><span [class.slide-top]="mouseHoveringAddMorePanel"><i  class="recommended" nz-icon nzType="build" [nz-tooltip]="'Proponowany wykres'"></i></span></span>
            <i nz-icon nzType="line-chart" [nz-tooltip]="'Wykres liniowy'"></i>
            <i nz-icon nzType="pie-chart" [nz-tooltip]="'Wykres ciasteczkowy (???)'"></i>
            <i nz-icon nzType="area-chart" [nz-tooltip]="'Wykres liniowy'"></i>
            <i nz-icon nzType="bar-chart" [nz-tooltip]="'Wykres kolumnowy, histogram'"></i>
            <i nz-icon nzType="font-size" [nz-tooltip]="'Tekst'"></i>
          </div>
        </section>

      </div>
    </nz-content>
    <nz-footer>Ant Design ©2020 Implement By Angular</nz-footer>
  </nz-layout>
</nz-layout>
